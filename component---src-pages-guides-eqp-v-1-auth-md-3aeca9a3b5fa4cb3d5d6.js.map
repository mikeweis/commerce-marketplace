{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/eqp/v1/auth.md"],"names":["_frontmatter","makeShortcode","name","props","console","warn","InlineAlert","CodeBlock","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","variant","slots","parentName","repeat","languages","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-eqp-v-1-auth-md-3aeca9a3b5fa4cb3d5d6.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-marketplace/commerce-marketplace/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst CodeBlock = makeShortcode(\"CodeBlock\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"authentication\"\n    }}>{`Authentication`}</h1>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`All API requests must be authenticated using `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Basic_access_authentication\"\n      }}>{`HTTP Basic Authentication`}</a>{`.`}</p>\n    <p>{`The Marketplace EQP API uses a two-step process to authenticate a client application and authorize access to resources:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Using your `}<a parentName=\"li\" {...{\n          \"href\": \"access-keys.md\"\n        }}>{`API access key`}</a>{`, obtain a session token.`}</li>\n      <li parentName=\"ol\">{`Provide the session token as an HTTP Authorization Bearer header to access a resource.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"base-urls\"\n    }}>{`Base URLs`}</h2>\n    <p>{`In code examples in this documentation, we use the Base URL of the `}<a parentName=\"p\" {...{\n        \"href\": \"sandbox.md\"\n      }}>{`sandbox`}</a>{`.`}</p>\n    <p>{`Once you are confident your `}<strong parentName=\"p\">{`sandbox`}</strong>{` API calls are correct, and you wish to submit a package for full manual review on the `}<strong parentName=\"p\">{`production`}</strong>{` environment, do the following:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Use the `}<strong parentName=\"li\">{`production`}</strong>{` Base URL instead of the sandbox one`}</li>\n      <li parentName=\"ul\">{`Use your `}<strong parentName=\"li\">{`production`}</strong>{` API access key: application ID and application secret`}</li>\n    </ul>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Environment`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Base Url`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`sandbox`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`https://developer-stg-api.magento.com`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`production`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`https://developer-api.magento.com`}</inlineCode></td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"authentication-and-authorization-flow\"\n    }}>{`Authentication and authorization flow`}</h2>\n    <p>{`You must use your `}<a parentName=\"p\" {...{\n        \"href\": \"access-keys.md\"\n      }}>{`API access key`}</a>{` -- which is an application ID and secret -- to obtain your session token.\nThe following is an example:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`application ID`}</strong>{` — `}<inlineCode parentName=\"li\">{`AQ17NZ49WC`}</inlineCode></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`application secret`}</strong>{` — `}<inlineCode parentName=\"li\">{`8820c99614d65f923df7660276f20e029d73e2ca`}</inlineCode></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"how-to-obtain-a-session-token-session-token\"\n    }}>{`How to obtain a session token {#session-token}`}</h3>\n    <p>{`The following endpoint grants a session token:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-http\"\n      }}>{`POST /rest/v1/app/session/token\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Parameters:`}</strong></p>\n    <p>{`You must specify the grant type in the request body:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n   \"grant_type\": \"session\",\n   \"expires_in\": 7200\n}\n`}</code></pre>\n    <p>{`Field details:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Field`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Required`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`grant_type`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`yes`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The API only supports the `}<inlineCode parentName=\"td\">{`session`}</inlineCode>{` grant type; other values will give an error.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`expires_in`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`int`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`no`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Specifies the number of seconds that the session token will be valid. If the requested time exceeds the system's maximum allowed, the system's maximum limit will be used instead.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`The following example shows a request to the sandbox, using the application ID and secret from above. A successful HTTP 200 OK response will be sent for a valid application ID and secret.`}</p>\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"CURL, JSON\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"request\"\n    }}>{`Request`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-curl\"\n      }}>{`curl -X POST \\\\\n     -u 'AQ17NZ49WC:8820c99614d65f923df7660276f20e029d73e2ca' \\\\\n     -H 'Content-Type: application/json' \\\\\n     -d '{ \"grant_type\" : \"session\" }' \\\\\n     https://developer-stg-api.magento.com/rest/v1/app/session/token\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"response\"\n    }}>{`Response`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n \"mage_id\": \"MAG123456789\",\n \"ust\": \"baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7\",\n \"expires_in\": 7200\n}\n`}</code></pre>\n    <p>{`Field details:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Field`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mage_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Your user account.  This is your \"Magento ID.\"`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`ust`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`User Session Token. It will be used in the `}<strong parentName=\"td\"><inlineCode parentName=\"strong\">{`Authorization: Bearer`}</inlineCode></strong>{` header for all subsequent API calls.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`expires_in`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`int`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Number of seconds the session token will be valid. Example: 7200 seconds is 2 hours.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <ul>\n      <li parentName=\"ul\">{`The session token has a relatively short duration.`}</li>\n      <li parentName=\"ul\">{`You can get as many session tokens as you need.  You do `}<strong parentName=\"li\">{`not`}</strong>{` need to wait for a session token to expire before requesting another one.  Multiple session tokens can be active at the same time, so you can run multiple scripts at the same time.`}</li>\n      <li parentName=\"ul\">{`Once the session token expires, a new token must be obtained as described above.`}</li>\n      <li parentName=\"ul\">{`Session tokens are specific to each environment.  Session tokens generated for the `}<strong parentName=\"li\">{`sandbox`}</strong>{` cannot be used for `}<strong parentName=\"li\">{`production`}</strong>{`, and vice-versa.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"how-to-use-a-session-token\"\n    }}>{`How to use a session token`}</h2>\n    <p>{`After obtaining a valid session token, you must use it as an `}<strong parentName=\"p\">{`authorization bearer token`}</strong>{` in all subsequent API calls.\nUsing the example values from above, run the following command to access your user profile with a session token:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl -X GET \\\\\n     -H 'Authorization: Bearer baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7' \\\\\n     https://developer-stg-api.magento.com/rest/v1/users/MAG123456789\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}